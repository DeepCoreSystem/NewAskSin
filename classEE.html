<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>NewAskSin: EE Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">NewAskSin
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classEE-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">EE Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Helper class for providing access to non-volatile data in the EEprom.  
 <a href="classEE.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="EEprom_8h_source.html">EEprom.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structEE_1_1s__cnlTbl.html">s_cnlTbl</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Channel Table Entry.  <a href="structEE_1_1s__cnlTbl.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structEE_1_1s__devDef.html">s_devDef</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Device Definition.  <a href="structEE_1_1s__devDef.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structEE_1_1s__peerTbl.html">s_peerTbl</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Peer Device Table Entry.  <a href="structEE_1_1s__peerTbl.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2fac005657c90befc342cd0ac98b30c1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2fac005657c90befc342cd0ac98b30c1"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>getList</b> (uint8_t cnl, uint8_t lst, uint8_t idx, uint8_t *buf)</td></tr>
<tr class="separator:a2fac005657c90befc342cd0ac98b30c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65415a4f2c8dc520c88b2383939a3d19"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEE.html#a65415a4f2c8dc520c88b2383939a3d19">setList</a> (uint8_t cnl, uint8_t lst, uint8_t idx, uint8_t *buf)</td></tr>
<tr class="memdesc:a65415a4f2c8dc520c88b2383939a3d19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write arbitrary data as list content to EEprom.  <a href="#a65415a4f2c8dc520c88b2383939a3d19">More...</a><br/></td></tr>
<tr class="separator:a65415a4f2c8dc520c88b2383939a3d19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1176c548a20363cfbe03e3f523cc80e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad1176c548a20363cfbe03e3f523cc80e"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>getRegAddr</b> (uint8_t cnl, uint8_t lst, uint8_t idx, uint8_t addr)</td></tr>
<tr class="separator:ad1176c548a20363cfbe03e3f523cc80e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6536835788a7fadd9c0637a0519f3cf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae6536835788a7fadd9c0637a0519f3cf"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>getHMID</b> (void)</td></tr>
<tr class="separator:ae6536835788a7fadd9c0637a0519f3cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b219afb1ab67fe9e4e1b7c769a933e4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3b219afb1ab67fe9e4e1b7c769a933e4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>init</b> (void)</td></tr>
<tr class="separator:a3b219afb1ab67fe9e4e1b7c769a933e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80a546fee7128ab0d22c562b0523029d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a80a546fee7128ab0d22c562b0523029d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>getMasterID</b> (void)</td></tr>
<tr class="separator:a80a546fee7128ab0d22c562b0523029d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb5f0568076925a81a84aac6baa5152e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abb5f0568076925a81a84aac6baa5152e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>testModul</b> (void)</td></tr>
<tr class="separator:abb5f0568076925a81a84aac6baa5152e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a096eebfcb4efb01b0da9496168f743cd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a096eebfcb4efb01b0da9496168f743cd"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>isHMIDValid</b> (uint8_t *toID)</td></tr>
<tr class="separator:a096eebfcb4efb01b0da9496168f743cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a901bd5499066957c65ae97225835fbcf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a901bd5499066957c65ae97225835fbcf"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>isPairValid</b> (uint8_t *reID)</td></tr>
<tr class="separator:a901bd5499066957c65ae97225835fbcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77a8724afd238fc9f7f7511328c77623"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a77a8724afd238fc9f7f7511328c77623"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>isBroadCast</b> (uint8_t *reID)</td></tr>
<tr class="separator:a77a8724afd238fc9f7f7511328c77623"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6cd3353c7a5222b70ae9bd543e3fab0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac6cd3353c7a5222b70ae9bd543e3fab0"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>getIntend</b> (uint8_t *reId, uint8_t *toId, uint8_t *peId)</td></tr>
<tr class="separator:ac6cd3353c7a5222b70ae9bd543e3fab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae431dab60dcff77c0387113de1392ad5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae431dab60dcff77c0387113de1392ad5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>clearPeers</b> (void)</td></tr>
<tr class="separator:ae431dab60dcff77c0387113de1392ad5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d401047e9f1e6a490102368abd87533"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3d401047e9f1e6a490102368abd87533"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>isPeerValid</b> (uint8_t *peer)</td></tr>
<tr class="separator:a3d401047e9f1e6a490102368abd87533"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a493c64d784026c86ae974141ad07e77e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a493c64d784026c86ae974141ad07e77e"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>countFreeSlots</b> (uint8_t cnl)</td></tr>
<tr class="separator:a493c64d784026c86ae974141ad07e77e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade5ed331483fd5c47721a2f270d32f5a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ade5ed331483fd5c47721a2f270d32f5a"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>getIdxByPeer</b> (uint8_t cnl, uint8_t *peer)</td></tr>
<tr class="separator:ade5ed331483fd5c47721a2f270d32f5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86267c5848a0df0580d6f791fadfdc3c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a86267c5848a0df0580d6f791fadfdc3c"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>getPeerByIdx</b> (uint8_t cnl, uint8_t idx, uint8_t *peer)</td></tr>
<tr class="separator:a86267c5848a0df0580d6f791fadfdc3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba140fbc4e333a45f722c8660c5d4a2f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aba140fbc4e333a45f722c8660c5d4a2f"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>addPeer</b> (uint8_t cnl, uint8_t *peer)</td></tr>
<tr class="separator:aba140fbc4e333a45f722c8660c5d4a2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c8dac163d8808c78a9a1854ed26cc0b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6c8dac163d8808c78a9a1854ed26cc0b"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>remPeer</b> (uint8_t cnl, uint8_t *peer)</td></tr>
<tr class="separator:a6c8dac163d8808c78a9a1854ed26cc0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f9e4fefceff06966fd4e4e96147e1f3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9f9e4fefceff06966fd4e4e96147e1f3"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>countPeerSlc</b> (uint8_t cnl)</td></tr>
<tr class="separator:a9f9e4fefceff06966fd4e4e96147e1f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0aec97614e89686d80f8f4f9bac7a43b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0aec97614e89686d80f8f4f9bac7a43b"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>getPeerListSlc</b> (uint8_t cnl, uint8_t slc, uint8_t *buf)</td></tr>
<tr class="separator:a0aec97614e89686d80f8f4f9bac7a43b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cda0c78a6b1e99511372726b98cf9d3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6cda0c78a6b1e99511372726b98cf9d3"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>getPeerSlots</b> (uint8_t cnl)</td></tr>
<tr class="separator:a6cda0c78a6b1e99511372726b98cf9d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad030c2ab01c0cccfb5ef802c541f1b04"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad030c2ab01c0cccfb5ef802c541f1b04"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>clearRegs</b> (void)</td></tr>
<tr class="separator:ad030c2ab01c0cccfb5ef802c541f1b04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16f9b29d9ad65598c307caeb87bf5c85"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a16f9b29d9ad65598c307caeb87bf5c85"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>countRegListSlc</b> (uint8_t cnl, uint8_t lst)</td></tr>
<tr class="separator:a16f9b29d9ad65598c307caeb87bf5c85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a012d0ef0b2ea9096591182f8e89b0cc1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a012d0ef0b2ea9096591182f8e89b0cc1"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>getRegListSlc</b> (uint8_t cnl, uint8_t lst, uint8_t idx, uint8_t slc, uint8_t *buf)</td></tr>
<tr class="separator:a012d0ef0b2ea9096591182f8e89b0cc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eedd13d4960199f023deb4676b5aee6"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEE.html#a3eedd13d4960199f023deb4676b5aee6">setListArray</a> (uint8_t cnl, uint8_t lst, uint8_t idx, uint8_t len, uint8_t *buf)</td></tr>
<tr class="memdesc:a3eedd13d4960199f023deb4676b5aee6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set individual registers of a list.  <a href="#a3eedd13d4960199f023deb4676b5aee6">More...</a><br/></td></tr>
<tr class="separator:a3eedd13d4960199f023deb4676b5aee6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab6a1434c1381cf8ccadb709ef5ed650"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aab6a1434c1381cf8ccadb709ef5ed650"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>getRegListIdx</b> (uint8_t cnl, uint8_t lst)</td></tr>
<tr class="separator:aab6a1434c1381cf8ccadb709ef5ed650"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4cf8e6920e854e0066c860003ce51be"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af4cf8e6920e854e0066c860003ce51be"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>checkIndex</b> (uint8_t cnl, uint8_t lst, uint8_t idx)</td></tr>
<tr class="separator:af4cf8e6920e854e0066c860003ce51be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a35cbd82d484c913680575911e770c471"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a35cbd82d484c913680575911e770c471"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>AS</b></td></tr>
<tr class="separator:a35cbd82d484c913680575911e770c471"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a734332867db2368307654119b141d883"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a734332867db2368307654119b141d883"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>RV</b></td></tr>
<tr class="separator:a734332867db2368307654119b141d883"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5a75f7ea8ec6d10bfc5b2b573982c8c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac5a75f7ea8ec6d10bfc5b2b573982c8c"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>CB</b></td></tr>
<tr class="separator:ac5a75f7ea8ec6d10bfc5b2b573982c8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Helper class for providing access to non-volatile data in the EEprom. </p>
<p>This class is used by the main <a class="el" href="classAS.html" title="Main class for implementation of the AskSin protocol stack. Every device needs exactly one instance o...">AS</a> class to handle non-volatile data stored in the EEprom and accessed in form of Registers in the context of Lists. Additionally, it maintains the peer database to validate incoming messages and help formulate outgoing messages.</p>
<p>Every device requires a set of definitions that define its properties and capabilities:</p>
<ul>
<li>the device definition <code><a class="el" href="structEE_1_1s__devDef.html" title="Device Definition. ">EE::s_devDef</a></code> <code>devDef</code> comprising device identity and the channel slice address definition</li>
<li>the channel table <code><a class="el" href="structEE_1_1s__cnlTbl.html" title="Channel Table Entry. ">EE::s_cnlTbl</a></code> <code>cnlTbl</code> referring to the channel slice address definition</li>
<li>the peer device table <code><a class="el" href="structEE_1_1s__peerTbl.html" title="Peer Device Table Entry. ">EE::s_peerTbl</a></code> <code>peerTbl</code> </li>
</ul>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>Insert defDev example here.</dd></dl>
<table class="doxtable">
<tr>
<th>Start </th><th align="right">Length </th><th>Content  </th></tr>
<tr>
<td>0x0000 </td><td align="right">2 </td><td>magic byte </td></tr>
<tr>
<td>0x0002 </td><td align="right">3 </td><td>HMID </td></tr>
<tr>
<td>0x0005 </td><td align="right">10 </td><td>serial number </td></tr>
<tr>
<td>0x000f </td><td align="right">N_l </td><td>register values (see below) </td></tr>
<tr>
<td>0x000f+N_l </td><td align="right">N_p </td><td>peer list (see below) </td></tr>
</table>
<p>Register values are stored for each possible Channel/List combination. A typical device knows exactly one List0 (Channel 0), and for each channel a combination of List1 and either List3 or List4.</p>
<p>For each channel, the number of possible peer devices can be specified individually. With chanX_listY_len as the number of register bytes for list Y in channel X and peers_chanX as the maximum number of peers for channel X, the memory footprint can be calculated as follows:</p>
<table class="doxtable">
<tr>
<th align="center">Channel </th><th align="center">List0 </th><th align="left">List1 </th><th align="center">List3 </th><th align="center">List4 </th><th align="left">Size </th><th>Note  </th></tr>
<tr>
<td align="center">0 </td><td align="center">chan0_list0_len </td><td align="left"></td><td align="center"></td><td align="center"></td><td align="left">chan0_l0_len </td><td>mandatory </td></tr>
<tr>
<td align="center">1 </td><td align="center"></td><td align="left">chan1_list1_len </td><td align="center"></td><td align="center"></td><td align="left">peers_chan1 * chan1_list1_len </td><td>mandatory </td></tr>
<tr>
<td align="center">1 </td><td align="center"></td><td align="left"></td><td align="center">chan1_list3_len </td><td align="center"></td><td align="left">peers_chan1 * chan1_list3_len </td><td>actor </td></tr>
<tr>
<td align="center">1 </td><td align="center"></td><td align="left"></td><td align="center"></td><td align="center">chan1_list4_len </td><td align="left">peers_chan1 * chan1_list4_len </td><td>sensor </td></tr>
<tr>
<td align="center">2 </td><td align="center"></td><td align="left">chan2_list1_len </td><td align="center"></td><td align="center"></td><td align="left">peers_chan2 * chan1_list1_len </td><td>mandatory </td></tr>
<tr>
<td align="center">2 </td><td align="center"></td><td align="left"></td><td align="center">chan2_list3_len </td><td align="center"></td><td align="left">peers_chan2 * chan1_list3_len </td><td>actor </td></tr>
<tr>
<td align="center">2 </td><td align="center"></td><td align="left"></td><td align="center"></td><td align="center">chan2_list4_len </td><td align="left">peers_chan2 * chan1_list4_len </td><td>sensor </td></tr>
<tr>
<td align="center"></td><td align="center"></td><td align="left"></td><td align="center"></td><td align="center"></td><td align="left"></td><td></td></tr>
<tr>
<td align="center">N </td><td align="center"></td><td align="left">chanN_list1_len </td><td align="center"></td><td align="center"></td><td align="left">peers_chan2 * chan1_list1_len </td><td>mandatory </td></tr>
<tr>
<td align="center">N </td><td align="center"></td><td align="left"></td><td align="center">chanN_list3_len </td><td align="center"></td><td align="left">peers_chan2 * chan1_list3_len </td><td>actor </td></tr>
<tr>
<td align="center">N </td><td align="center"></td><td align="left"></td><td align="center"></td><td align="center">chanN_list4_len </td><td align="left">peers_chan2 * chan1_list4_len </td><td>sensor </td></tr>
</table>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>Insert description of peerTbl here </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a65415a4f2c8dc520c88b2383939a3d19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t EE::setList </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cnl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>lst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write arbitrary data as list content to EEprom. </p>
<p><a class="el" href="classEE.html#a65415a4f2c8dc520c88b2383939a3d19" title="Write arbitrary data as list content to EEprom. ">setList()</a> can be used to set the values of all registers in a list (see <a class="el" href="basics.html#basics_device_registers">Device Registers</a>).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cnl</td><td>Channel </td></tr>
    <tr><td class="paramname">lst</td><td>List </td></tr>
    <tr><td class="paramname">idx</td><td>Index of peer (0 if not applicable) </td></tr>
    <tr><td class="paramname">buf</td><td>Array with all new list values (must match size of channel-list)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 for success, 0 for failure</dd></dl>
<p>The specified channel, list and index are used to identify the eeprom section to write to (see <a class="el" href="classEE.html#section_eeprom_memory_layout">EEprom memory layout</a>).</p>
<p>If a valid eeprom section can be identified, the content of buf will be written to the associated EEprom memory section.</p>
<dl class="section note"><dt>Note</dt><dd>Use <a class="el" href="classEE.html#a3eedd13d4960199f023deb4676b5aee6" title="Set individual registers of a list. ">setListArray()</a> to write to individual registers rather than the complete list.</dd></dl>
<p>In a simple example, the channel slice address definition for List0 is: </p>
<div class="fragment"><div class="line"><span class="keyword">const</span> uint8_t cnlAddr[] PROGMEM = {</div>
<div class="line">    0x02, 0x05, 0x0a, 0x0b, 0x0c, 0x14, 0x24, 0x25, 0x26, 0x27, <span class="comment">// sIdx 0x00, 10 bytes for Channel0/List0</span></div>
<div class="line">    0x01,                                                       <span class="comment">// sIdx 0x0a,  1 byte  for Channel1/List4</span></div>
<div class="line">}; <span class="comment">// 11 byte</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="structEE_1_1s__cnlTbl.html">EE::s_cnlTbl</a> <a class="code" href="EEprom_8h.html#a546231a7e238de181dd330781f10f1b1">cnlTbl</a>[] = {</div>
<div class="line">    <span class="comment">// cnl, lst, sIdx, sLen, pAddr;</span></div>
<div class="line">    {  0,  0, 0x00, 10,  0x000f }, <span class="comment">// Channel0/List0, 10 bytes at sIdx 0x00, Addr 0x000f</span></div>
<div class="line">    {  1,  4, 0x0a,  1,  0x0019 }, <span class="comment">// Channel1/List4,  1 byte  at sIdx 0x0a, Addr 0x0019</span></div>
<div class="line">};</div>
</div><!-- fragment --><p> In order to write the contents of list0 (10 bytes) to the EEprom, we simply use: </p>
<div class="fragment"><div class="line"><span class="keyword">const</span> uint8_t list0defaults[] = {</div>
<div class="line">    0x01,           <span class="comment">//  0x02, led-mode on</span></div>
<div class="line">    0x00,           <span class="comment">//  0x05,</span></div>
<div class="line">    0x00,0x00,0x00, <span class="comment">//  0x0a, Master-ID, leave at 000000 to allow for pairing</span></div>
<div class="line">    0x00,           <span class="comment">//  0x14,</span></div>
<div class="line">    0x02,0x01       <span class="comment">//  0x24, measureInterval = 513sec = 0x0201</span></div>
<div class="line">    0x03,           <span class="comment">//  0x26, pwmStableDelay = 3sec = 0x03</span></div>
<div class="line">    0x05            <span class="comment">//  0x27, pwmStableDelta = 2.5% = 0x05</span></div>
<div class="line">};</div>
<div class="line">hm.<a class="code" href="classAS.html#a9b75b6a425ac3f72ad5fc840fef70c62">ee</a>.<a class="code" href="classEE.html#a3eedd13d4960199f023deb4676b5aee6">setListArray</a>(0,0,0,<span class="keyword">sizeof</span>(list0defaults),list0defaults);</div>
</div><!-- fragment --><p> Note how registers with data types bigger than one byte use consecutive addresses for the required number of bytes.</p>
<p>Commonly, it is good practice to keep the declaration of the register contents close to that of the channel slice address definition to simplify book-keeping during development.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classEE.html#a3eedd13d4960199f023deb4676b5aee6" title="Set individual registers of a list. ">setListArray()</a>, <a class="el" href="EEprom_8h.html#a24a5ce20657a2331a789ef0401ca7464" title="Callback for actions after EEprom deletion. ">firstTimeStart()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a3eedd13d4960199f023deb4676b5aee6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t EE::setListArray </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cnl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>lst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set individual registers of a list. </p>
<p>setListArray can be used to set indivual registers of a list (see <a class="el" href="basics.html#basics_device_registers">Device Registers</a>). Any number of registers defined for a list by the respective channel slice address definition can we written with a new value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cnl</td><td>Channel </td></tr>
    <tr><td class="paramname">lst</td><td>List </td></tr>
    <tr><td class="paramname">idx</td><td>Index of peer (0 if not applicable) </td></tr>
    <tr><td class="paramname">len</td><td>Array length (must be a multiple of 2) </td></tr>
    <tr><td class="paramname">buf</td><td>Array with pairs of REGNUM:VALUE</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 for success, 0 for failure</dd></dl>
<p>The specified channel, list and index are used to identify the eeprom section to write to (see <a class="el" href="classEE.html#section_eeprom_memory_layout">EEprom memory layout</a>).</p>
<p>If a valid eeprom section is identified, each REGNUM:VALUE pair in the array for validity and write will be used to write VALUE as the new content of register REGNUM in the specified List.</p>
<dl class="section note"><dt>Note</dt><dd>Use <a class="el" href="classEE.html#a65415a4f2c8dc520c88b2383939a3d19" title="Write arbitrary data as list content to EEprom. ">setList()</a> to write to the complete list rather than individual registers.</dd></dl>
<p>In a simple example, the channel slice address definition for List0 is: </p>
<div class="fragment"><div class="line"><span class="keyword">const</span> uint8_t cnlAddr[] PROGMEM = {</div>
<div class="line">    0x02, 0x05, 0x0a, 0x0b, 0x0c, 0x14, 0x24, 0x25, 0x26, 0x27, <span class="comment">// sIdx 0x00, 10 bytes for Channel0/List0</span></div>
<div class="line">    0x01,                                                       <span class="comment">// sIdx 0x0a,  1 byte  for Channel1/List4</span></div>
<div class="line">}; <span class="comment">// 11 byte</span></div>
</div><!-- fragment --><p> docs/snippets/register-h-cnlTbl.cpp </p>
<div class="fragment"><div class="line"><span class="keyword">const</span> uint8_t cnlAddr[] PROGMEM = {</div>
<div class="line">    0x02, 0x05, 0x0a, 0x0b, 0x0c, 0x14, 0x24, 0x25, 0x26, 0x27, <span class="comment">// sIdx 0x00, 10 bytes for Channel0/List0</span></div>
<div class="line">    0x01,                                                       <span class="comment">// sIdx 0x0a,  1 byte  for Channel1/List4</span></div>
<div class="line">}; <span class="comment">// 11 byte</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="structEE_1_1s__cnlTbl.html">EE::s_cnlTbl</a> cnlTbl[] = {</div>
<div class="line">    <span class="comment">// cnl, lst, sIdx, sLen, pAddr;</span></div>
<div class="line">    {  0,  0, 0x00, 10,  0x000f }, <span class="comment">// Channel0/List0, 10 bytes at sIdx 0x00, Addr 0x000f</span></div>
<div class="line">    {  1,  4, 0x0a,  1,  0x0019 }, <span class="comment">// Channel1/List4,  1 byte  at sIdx 0x0a, Addr 0x0019</span></div>
<div class="line">};</div>
</div><!-- fragment --><p> In order to write the contents for only a few of the registers of List0 to the EEprom, we simply use: </p>
<div class="fragment"><div class="line"><span class="keyword">const</span> uint8_t list0defaults[] = {</div>
<div class="line">    0x01, 0x01,  <span class="comment">// led-mode on</span></div>
<div class="line">    0x24, 0x02,  <span class="comment">// measureInterval = 513sec = 0x0201</span></div>
<div class="line">    0x25, 0x01,</div>
<div class="line">    0x26, 0x03,  <span class="comment">// pwmStableDelay = 3sec = 0x03</span></div>
<div class="line">    0x27, 0x05   <span class="comment">// pwmStableDelta = 2.5% = 0x05</span></div>
<div class="line">};</div>
<div class="line">hm.<a class="code" href="classAS.html#a9b75b6a425ac3f72ad5fc840fef70c62">ee</a>.<a class="code" href="classEE.html#a3eedd13d4960199f023deb4676b5aee6">setListArray</a>(0,0,0,<span class="keyword">sizeof</span>(list0defaults),list0defaults);</div>
</div><!-- fragment --><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>Add references to related methods </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="EEprom_8h_source.html">EEprom.h</a></li>
<li>EEprom.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jul 7 2015 21:39:16 for NewAskSin by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
